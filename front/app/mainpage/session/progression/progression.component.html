<div class="flex flex-col w-full min-h-screen bg-grey" *ngIf="!loading">
    <app-header [section]="section" />
    <div class="grid grid-cols-8 mt-9 mb-4 items-center overflow-auto">
        <p class="col-span-4 ml-4">Session : {{ session.name }}</p>
        <div class="flex items-center justify-center col-span-2 h-10">
            <input
                class="w-full h-full rounded-lg border border-zinc-600 border-opacity-80 pl-5"
                type="text"
                [(ngModel)]="studentNameSearch"
                (ngModelChange)="searchStudent()"
                placeholder="Trouver un élève" />
        </div>
        <button
            class="flex items-center justify-center col-span-2 w-4/5 h-full bg-blueButton rounded-xl text-white ml-6"
            (click)="gotoProgressEdit()">
            Modifier le niveau d'un élève
        </button>
    </div>
    <table
        class="mt-5 m-3 bg-bgTable text-center border-y border-x border-separate border-spacing-0 rounded-t-lg rounded-b-lg overflow-hidden">
        <thead class="justify-center items-center border-t rounded-t-lg bg-bgHeaderTable">
            <tr>
                <th class="border-r border-borderTable">Élève</th>
                <th class="">Niveau atteint</th>
            </tr>
        </thead>
        <tbody class="[&>*:nth-child(even)]:bg-bgTableDark">
            <tr *ngFor="let progression of filteredProgressions">
                <td class="border-r border-borderTable">{{ progression.studentName }}</td>
                <td class="justify-center flex items-center">
                    {{ getPercentage(progression.level) }}
                </td>
            </tr>
        </tbody>
    </table>
    <div class="fixed bottom-0 right-0 mb-4 mr-4">
        <button [routerLink]="['/session']" class="w-fit bg-blue-700 hover:bg-blue-800 rounded-lg text-white">
            <p class="cursor-pointer text-base my-3 mx-1 leading-3 text-white font-inter">Retour</p>
        </button>
    </div>
</div>
